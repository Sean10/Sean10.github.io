---
title: DNS解析
date: 2018-04-10 16:35:52
updated:
tags: [DNS, 网络]
categories: [专业]
---

想到这个问题主要有感于，学校教务系统似乎在内网和外网访问时，同一个域名会解析到不同的服务器上，访问了不同的网页。

<!--more-->

理论上来说，由于DNS解析是一层层的，所以在访问校园网DNS服务器时，就会直接返回一个ip，而在外网时就会访问更高层级的DNS服务器返回一个该域名学校对外的ip。

但是，似乎有时候在校园网内也会获取到校外解析出的ip，理论上应该是可以通过获取真实ip来直接访问。

**暂时无法复现……无法测试**

# 负载均衡

## 基本方法

只在一个地方有服务器，同时会有大量请求，最简单的一种方法似乎是轮询返回不同服务器ip。

多地都存在服务器时，在多地有多个DNS服务器，对不同来源的请求返回各地的ip

## 实践

nginx负载均衡，反向代理


# dnsmasq

基于dnsmasq运行dns SRV-host查询能力

除了记录了服务器地址, 还记录了端口.

[DNS SRV介绍（一种用DNS做服务发现的方法）By李佶澳](https://www.lijiaocn.com/%E6%8A%80%E5%B7%A7/2017/03/06/dns-srv.html)

# Reference

1. []()
