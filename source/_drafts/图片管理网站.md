---
title: 图片管理网站
subtitle: tech
date: 2018-12-02 19:33:39
updated:
tags:
categories:
---



这两天刚好想到做一个图片展示网站，一开始想的很简单，因为之前用后端渲染的方式，直接Jinja2渲染的时候就插入了图片路径，展示还是很方便的，就还想着还可以有余力的进阶一下，试试看随机推荐什么的（当然了，是从伪随机慢慢调试到从图片分类等等了）

因为最近一直在用前后端分离的写法，就准备直接跳过后端渲染的阶段，结果遭遇了一些难题。因为后端叙然你的时候链接插入是通过url_for自动转化的。而在分离的状态下，这个链接的生成就有些艰难了。

唔，重新看了下以前写的flask利用插件的代码，才发现，原来的那个是在插件里生成了一个视图函数，产生的还是一个真正的二进制流。

果然，在flask_uploads这个插件里，注册了一个内置的blueprint,从而实现的，噢，用的方式是flask的send_from_directory，的确不错。这个好像本质上也是一个二进制流。

这样的话，距离图片轮播还差多少呢？

似乎，在渲染出首页面的时候，就需要存储一个队列，之后在渲染每张图片的页面的时候，渲染一个下一页的时候按照顺序插入链接。

忽然想到，如果配置文件不存在，是不是应该自己写一个异常，用于提醒用户呢？似乎flask的那些插件开发者都是有自己封装错误信息的样子。

如果我现在要存储这个全局队列，应该用哪个全局变量来存储呢？

程序上下文？应用上下文？请求上下文？

https://www.one-tab.com/page/gxcDIaEZQpW9bh5VeINS2A         